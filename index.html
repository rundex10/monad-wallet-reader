<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monad Allocation Checker (Beta)</title>
<style>
@font-face {
    font-family: 'CustomFont';
    src: url('font.ttf') format('truetype');
}

body {
    font-family: 'CustomFont', sans-serif;
    background: url('bg.jpg') no-repeat center center fixed;
    background-size: cover;
    color: white;
    text-align: center;
    margin: 0;
    padding: 0;
}

h1 {
    margin-top: 40px;
    font-size: 2em;
    color: #e0aaff;
}

input, button {
    font-family: 'CustomFont', sans-serif;
    padding: 10px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
}

input {
    width: 320px;
}

button {
    background: linear-gradient(90deg, #a020f0, #ff00ff);
    color: white;
    cursor: pointer;
}

button:hover {
    opacity: 0.9;
}

.card {
    background: rgba(64, 0, 128, 0.7);
    border: 2px solid #a020f0;
    border-radius: 10px;
    margin: 15px auto;
    padding: 15px;
    width: 300px;
    backdrop-filter: blur(10px);
    animation: fadeIn 1s ease forwards;
    opacity: 0;
}

.card.show {
    opacity: 1;
}

@keyframes fadeIn {
    from {opacity: 0; transform: translateY(20px);}
    to {opacity: 1; transform: translateY(0);}
}

.loading {
    font-size: 20px;
    display: inline-block;
}

.loading span {
    display: inline-block;
    animation: wave 1s infinite;
}

.loading span:nth-child(2) {
    animation-delay: 0.2s;
}

.loading span:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes wave {
    0%, 60%, 100% { transform: translateY(0); }
    30% { transform: translateY(-10px); }
}

/* left */
.footer-left {
    position: fixed;
    bottom: 15px;
    left: 20px;
    font-size: 14px;
    color: white;
    background: rgba(0, 0, 0, 0.4);
    padding: 6px 10px;
    border-radius: 6px;
    backdrop-filter: blur(5px);
}

/* Footer kanan */
.footer-right {
    position: fixed;
    bottom: 15px;
    right: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
    background: rgba(0, 0, 0, 0.4);
    padding: 6px 10px;
    border-radius: 10px;
    border: 2px solid white;
    backdrop-filter: blur(5px);
}

.profile-thumb {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    object-fit: cover;
    border: 2px solid white;
}

.footer-right a {
    color: #fff;
    text-decoration: none;
    font-weight: bold;
}

.footer-right a:hover {
    text-decoration: underline;
}
</style>
</head>
<body>

<h1>üíú Monad Allocation Checker (Beta)</h1>

<input type="text" id="walletAddress" placeholder="Masukkan alamat wallet Monad">
<button onclick="checkWallet()">Begin</button>

<div id="loading" class="loading" style="display:none;">
    <span>.</span><span>.</span><span>.</span>
</div>

<div id="balanceCard" class="card"></div>
<div id="txCard" class="card"></div>

<!-- Footer -->
<div class="footer-left">
  ‚ù§Ô∏è Built with love by Community
</div>

<div class="footer-right">
  <img src="mrp.jpg" alt="Profile" class="profile-thumb">
  <span>‚Ä¢ Follow my X : <a href="https://twitter.com/murphyejr" target="_blank">@murphyejr</a></span>
</div>

<script>
const apiKey = "P9QADugjmL2Ib2ivnLv_j";

async function checkWallet() {
    const address = document.getElementById("walletAddress").value.trim();
    if (!address) {
        alert("Enter your Address");
        return;
    }

    document.getElementById("loading").style.display = "inline-block";
    document.getElementById("balanceCard").classList.remove("show");
    document.getElementById("txCard").classList.remove("show");

    try {
        // xgb
        const balanceRes = await fetch(`https://monad-testnet.g.alchemy.com/v2/${apiKey}`, {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({
                id: 1,
                jsonrpc: "2.0",
                method: "eth_getBalance",
                params: [address, "latest"]
            })
        });
        const balanceData = await balanceRes.json();
        const balance = parseInt(balanceData.result, 16) / 1e18;

        // xgtt
        const txRes = await fetch(`https://monad-mainnet.g.alchemy.com/v2/${apiKey}`, {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({
                id: 1,
                jsonrpc: "2.0",
                method: "eth_getTransactionCount",
                params: [address, "latest"]
            })
        });
        const txData = await txRes.json();
        const txCount = parseInt(txData.result, 16);

        document.getElementById("loading").style.display = "none";

        document.getElementById("balanceCard").innerHTML = `Total Balance: <b>${balance} $MON</b>`;
        document.getElementById("txCard").innerHTML = `Total Transactions: <b>${txCount} txn</b>`;

        setTimeout(() => document.getElementById("balanceCard").classList.add("show"), 200);
        setTimeout(() => document.getElementById("txCard").classList.add("show"), 800);

    } catch (err) {
        console.error(err);
        alert("Failed to fetch");
        document.getElementById("loading").style.display = "none";
    }
}
</script>

</body>
</html>
